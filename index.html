<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <title>Design for Succcess with React and Storybook.js</title>
  <link rel="stylesheet" href="./node_modules/reveal.js/css/reveal.css">
  <link rel="stylesheet" href="./node_modules/reveal.js/css/theme/white.css">
  <link rel="stylesheet" href="./node_modules/prismjs/themes/prism.css">
  <style type="text/css">
    .reveal pre code {
	max-height: 543px;
	line-height: 1.2;
}

.slide-background.intro-slide {
	background: url('intro.png');
	background-size: cover;
}

.slide-background.storybook {
	background: url('01-storybook.gif');
	background-size: cover;
}
  </style>
  <script>
    var link = document.createElement( 'link' );
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = window.location.search.match( /print-pdf/gi ) ?
      './node_modules/reveal.js/css/print/pdf.css' :
      './node_modules/reveal.js/css/print/paper.css';
    document.getElementsByTagName( 'head' )[0].appendChild( link );
</script>
</head>
<body>
<div class="reveal">
    <div class="slides">
        <section class="">
    <h1 id="design-for-success">Design for Success</h1>
<h2 id="with-react-and-storybooks">with React and Storybooks</h2>

  </section>
  <section class=" intro-slide">
    
  </section>
  <section class="">
    <h1 id="design-">Design?</h1>
<h2 id="that-s-someone-elses-job-">That&#39;s someone elses job.</h2>

  </section>
  <section class="">
    <p>Ugh, another sketch/photoshop slice job</p>
<p>Maybe, if I had been involved...</p>
<p><img src="./03-text-styles-opt.jpg" alt=""></p>

  </section>
  <section class="">
    <h3 id="why-do-we-do-it-">Why do we do it?</h3>
<ul>
<li>No code involved, so designers can work completely independently</li>
<li>Developers usually viewed as &quot;bad&quot; designers</li>
</ul>

  </section>
  <section class="">
    <h3 id="having-designs-delivered-">Having Designs delivered:</h3>
<ul>
<li>Inconsistant designs between &quot;pages&quot;</li>
<li>Can&#39;t easily show animations or responsive designs</li>
<li>Usually design elements are not modular or componentized</li>
<li>Version control?</li>
<li>Some things may not be possible in a browser</li>
<li>Still have a lot of work to &quot;translate&quot; to html
... and it may not be pixel perfect!</li>
</ul>

  </section>
  <section class="">
    <h1 id="how-do-we-bridge-the-gap-">How do we bridge the gap?</h1>

  </section>
  <section class="">
    <h1 id="storybook-js">Storybook.js</h1>

  </section>
  <section class=" storybook">
    
  </section>
  <section class="">
    <h3 id="why-storybook-js-">Why Storybook.js?</h3>
<ul>
<li>Integrates with React and Vue.js</li>
<li>Immediate feedback of changes</li>
<li>Easily see history of changes</li>
<li>At the end of the design phase, we have functional components!</li>
</ul>

  </section>
  <section class="">
    <h1 id="how-">How?</h1>

  </section>
  <section class="">
    <blockquote>
<p>Disclaimer: you&#39;ll need developer and designer buy-in</p>
</blockquote>

  </section>
  <section class="">
    <h3 id="keep-data-retrieval-separate">Keep data retrieval separate</h3>
<ul>
<li>Avoid state in your views as much as possible</li>
<li>Compose your components as much as possible</li>
<li>Use props to pass in data</li>
</ul>

  </section>
  <section class="">
    <h3 id="typical-react-tutorial-component">Typical React Tutorial Component</h3>
<pre><code class="lang-jsx">export default class ListComponent extends React.Component {
    state = { items: [] }

    async componentDidMount() {
        this.setState({
            items: await fetch(&#39;/items&#39;)
        });
    }

    renderItems() {
        return this.state.items.map(item =&gt; &lt;li&gt;{item}&lt;/li&gt;)
    }

    render() {
        return (
            &lt;ul&gt;{ this.renderItems() }&lt;/ul&gt;
        );
    }
}</code></pre>

  </section>
  <section class="">
    <h1 id="separate-">Separate!</h1>

  </section>
  <section class="">
    <h3 id="use-props-to-display">Use props to display</h3>
<pre><code class="lang-jsx">export default class ListComponent extends React.Component {

    renderItems = () =&gt; {
        return (this.props.items || []).map(item =&gt; &lt;li&gt;{item}&lt;/li&gt;)
    }

    render() {
        return (
            &lt;ul&gt;
                { this.renderItems() }
            &lt;/ul&gt;
        )
    }
}</code></pre>

  </section>
  <section class="">
    <h3 id="pass-the-state-data-to-the-view">Pass the state data to the view</h3>
<pre><code class="lang-jsx">import List from &#39;./list-component&#39;;
export class ListContainer extends React.Component {

    state = { items: [] }

    async componentDidMount() {
        this.setState({
            items: await fetch(&#39;/items&#39;)
        });
    }

    render() {
        return &lt;List items={this.state.items}/&gt;
    }
}</code></pre>

  </section>
  <section class="">
    <h1 id="storytime-">Storytime!</h1>

  </section>
  <section class="">
    <pre><code class="lang-jsx">import { storiesOf } from &#39;@storybook/react&#39;;
import List from &#39;./list-component&#39;;

storiesOf(&#39;List&#39;, module)
    .add(&#39;No items&#39;, () =&gt; &lt;List /&gt;)
    .add(&#39;One item&#39;, () =&gt; &lt;List items={[&#39;item 1&#39;]} /&gt;)
    .add(&#39;Multiple items&#39;, () =&gt; {
        return &lt;List items={[&#39;item 1&#39;, &#39;item 2&#39;, &#39;item 3&#39;]} /&gt;;
    });</code></pre>

  </section>
  <section class="">
    <p><img src="./04-storybook.png" alt=""></p>

  </section>
  <section class="">
    <p><img src="./05-storybook.png" alt=""></p>

  </section>
  <section class="">
    <p><img src="./06-storybook.png" alt=""></p>

  </section>
  <section class="">
    <h3 id="storybook-capabilities">Storybook Capabilities</h3>
<ul>
<li>Show when user actions occur in the view</li>
</ul>

  </section>
  <section class="">
    <h3 id="add-a-click-action">Add a click action</h3>
<pre><code class="lang-jsx">export default class ListComponent extends React.Component {

    onClick = (e) =&gt; {
        this.props.onItemClicked(e.target.innerText);
    }

    renderItems = () =&gt; {
        return (this.props.items || [])
            .map(item =&gt; {
                return &lt;li onClick={this.onClick}&gt;{item}&lt;/li&gt;
            });
    }

    render() {
        return &lt;ul&gt;{ this.renderItems() }&lt;/ul&gt;
    }

}</code></pre>

  </section>
  <section class="">
    <h3 id="modify-our-story-for-the-action">Modify our story for the action</h3>
<pre><code class="lang-jsx">import { storiesOf, action } from &#39;@storybook/react&#39;;
import List from &#39;./list-component&#39;;

storiesOf(&#39;List&#39;, module)
    .add(&#39;No items&#39;, () =&gt; &lt;List /&gt;)
    .add(&#39;One item&#39;, () =&gt; &lt;List items={[&#39;item 1&#39;]} /&gt;)
    .add(&#39;Multiple items&#39;, () =&gt; {
        return (
            &lt;List
                onItemClicked={action(&#39;Item clicked!&#39;)}
                items={[&#39;item 1&#39;, &#39;item 2&#39;, &#39;item 3&#39;]}
            /&gt;
        );
    });</code></pre>

  </section>
  <section class="">
    <p><img src="./07-storybook.gif" alt=""></p>

  </section>
  <section class="">
    <h3 id="-todo-">@todo:</h3>
<ul>
<li>Additional reasons why?<ul>
<li>Show some plugins like &quot;knob&quot; and linkage</li>
<li>No need to have an existing app, can have standalone components that storybook draws</li>
<li>functional testing embedded into storybook</li>
<li>Reusable container components for data retrieval with react-native apps</li>
</ul>
</li>
<li>React-native considerations?</li>
</ul>

  </section>
  <section class="">
    <h3 id="conclusion">Conclusion</h3>
<ul>
<li>Getting involved in the design process doesn&#39;t have to be scary</li>
<li>Start fresh or add to existing React/VueJS app</li>
<li>Hit the ground running when designs are finished</li>
<li>Version control designs and their stories</li>
</ul>

  </section>
  <section class="">
    <h1 id="questions-">Questions?</h1>

  </section>

    </div>
</div>
<script src="./node_modules/reveal.js/js/reveal.js"></script>
<script src="./node_modules/prismjs/prism.js"></script>
<script src="./node_modules/prismjs/components/prism-jsx.js"></script>
<!-- <script src="./node_modules/reveal.js/lib/js/head.min.js"></script> -->
<script>
  Reveal.initialize({
    controls: false,
    history: true
    // dependencies: [
    //   {
    //     src: './node_modules/reveal.js/plugin/highlight/highlight.js',
    //     async: true,
    //     callback: function() {
    //       hljs.initHighlightingOnLoad();
    //     },
    //   }
    // ]
  });
</script>
<script>
  /**
 * Returns the current page number of the presentation.
 */
function currentPosition() {
  return parseInt(document.querySelector('.slide:not(.hidden)').id.slice(6));
}


/**
 * Navigates forward n pages
 * If n is negative, we will navigate in reverse
 */
function navigate(n) {
  var position = currentPosition();
  var numSlides = document.getElementsByClassName('slide').length;

  /* Positions are 1-indexed, so we need to add and subtract 1 */
  var nextPosition = (position - 1 + n) % numSlides + 1;

  /* Normalize nextPosition in-case of a negative modulo result */
  nextPosition = (nextPosition - 1 + numSlides) % numSlides + 1;

  document.getElementById('slide-' + position).classList.add('hidden');
  document.getElementById('slide-' + nextPosition).classList.remove('hidden');

  updateProgress();
  updateURL();
  updateTabIndex();
}


/**
 * Updates the current URL to include a hashtag of the current page number.
 */
function updateURL() {
  try {
    window.history.replaceState({} , null, '#' + currentPosition());
  } catch (e) {
    window.location.hash = currentPosition();
  }
}


/**
 * Sets the progress indicator.
 */
function updateProgress() {
  var progressBar = document.querySelector('.progress-bar');

  if (progressBar !== null) {
    var numSlides = document.getElementsByClassName('slide').length;
    var position = currentPosition() - 1;
    var percent = (numSlides === 1) ? 100 : 100 * position / (numSlides - 1);
    progressBar.style.width = percent.toString() + '%';
  }
}


/**
 * Removes tabindex property from all links on the current slide, sets
 * tabindex = -1 for all links on other slides. Prevents slides from appearing
 * out of control.
 */
function updateTabIndex() {
  var allLinks = document.querySelectorAll('.slide a');
  var position = currentPosition();
  var currentPageLinks = document.getElementById('slide-' + position).querySelectorAll('a');
  var i;

  for (i = 0; i < allLinks.length; i++) {
    allLinks[i].setAttribute('tabindex', -1);
  }

  for (i = 0; i < currentPageLinks.length; i++) {
    currentPageLinks[i].removeAttribute('tabindex');
  }
}

/**
 * Determines whether or not we are currently in full screen mode
 */
function isFullScreen() {
  return document.fullscreenElement ||
         document.mozFullScreenElement ||
         document.webkitFullscreenElement ||
         document.msFullscreenElement;
}

/**
 * Toggle fullScreen mode on document element.
 * Works on chrome (>= 15), firefox (>= 9), ie (>= 11), opera(>= 12.1), safari (>= 5).
 */
function toggleFullScreen() {
  /* Convenient renames */
  var docElem = document.documentElement;
  var doc = document;

  docElem.requestFullscreen =
      docElem.requestFullscreen ||
      docElem.msRequestFullscreen ||
      docElem.mozRequestFullScreen ||
      docElem.webkitRequestFullscreen.bind(docElem, Element.ALLOW_KEYBOARD_INPUT);

  doc.exitFullscreen =
      doc.exitFullscreen ||
      doc.msExitFullscreen ||
      doc.mozCancelFullScreen ||
      doc.webkitExitFullscreen;

  isFullScreen() ? doc.exitFullscreen() : docElem.requestFullscreen();
}

document.addEventListener('DOMContentLoaded', function () {
  // Update the tabindex to prevent weird slide transitioning
  updateTabIndex();

  // If the location hash specifies a page number, go to it.
  var page = window.location.hash.slice(1);
  if (page) {
    navigate(parseInt(page) - 1);
  }

  document.onkeydown = function (e) {
    var kc = e.keyCode;

    // left, down, H, J, backspace, PgUp - BACK
    // up, right, K, L, space, PgDn - FORWARD
    // enter - FULLSCREEN
    if (kc === 37 || kc === 40 || kc === 8 || kc === 72 || kc === 74 || kc === 33) {
      navigate(-1);
    } else if (kc === 38 || kc === 39 || kc === 32 || kc === 75 || kc === 76 || kc === 34) {
      navigate(1);
    } else if (kc === 13) {
      toggleFullScreen();
    }
  };

  if (document.querySelector('.next') && document.querySelector('.prev')) {
    document.querySelector('.next').onclick = function (e) {
      e.preventDefault();
      navigate(1);
    };

    document.querySelector('.prev').onclick = function (e) {
      e.preventDefault();
      navigate(-1);
    };
  }
});


</script>
</body>
</html>
